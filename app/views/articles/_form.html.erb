<%= form_for(@article, :html => {:class => "form-horizontal"}) do |f| %>
    <% if @article.errors.any? %>
        <div id="error_explanation" class="form-group">
          <div class="col-sm-2"></div>
          <div class="col-sm-9">
            <h2>保存时发生了<%= pluralize(@article.errors.count, "error") %></h2>
            <ul>
              <% @article.errors.full_messages.each do |message| %>
                  <li><%= message %></li>
              <% end %>
            </ul>
          </div>
        </div>
    <% end %>

    <div class="form-group">
      <%= f.label :title, :class => "col-sm-2 control-label" do %>
          <%= t 'activerecord.attributes.article.title' %> <span class="symbol required"></span>
      <% end %>
      <div class="col-sm-9">
        <%= f.text_field :title, :class => "form-control" %>
      </div>
    </div>
    <div class="form-group">
      <%= f.label :summary, :class => "col-sm-2 control-label" do %>
          <%= t 'activerecord.attributes.article.summary' %> <span class="symbol required"></span>
      <% end %>
      <div class="col-sm-9">
        <%= f.text_area :summary, :class => "form-control" %>
      </div>
    </div>
    <div class="form-group">
      <%= f.label :content, :class => "col-sm-2 control-label" do %>
          <%= t 'activerecord.attributes.article.content' %> <span class="symbol required"></span>
      <% end %>
      <div class="col-sm-9">
        <%= f.text_area :content, :class => 'form-control' %>
      </div>
    </div>
    <div class="form-group">
      <%= f.label :markdown_content, :class => "col-sm-2 control-label" do %>
          <%= t 'activerecord.attributes.article.markdown_content' %>
      <% end %>
      <div class="col-sm-9">
        <%= f.text_area :markdown_content, :class => "form-control" %>
      </div>
    </div>
    <div class="form-group">
      <%= f.label :author, :class => "col-sm-2 control-label" do %>
          <%= t 'activerecord.attributes.article.author' %>
      <% end %>
      <div class="col-sm-9">
        <%= f.text_field :author, :class => "form-control" %>
      </div>
    </div>
    <div class="form-group">
      <%= f.label :img, :class => "col-sm-2 control-label" do %>
          <%= t 'activerecord.attributes.article.img' %> <span class="symbol required"></span>
      <% end %>
      <div class="col-sm-9">
        <%= image_tag(@article.img_url(:thumb)) if @article.img? %>
        <%= f.file_field :img %>
        <p class="help-block">请上传特色图片</p>
      </div>
    </div>
    <div class="form-group">
      <%= f.label :publish_time, :class => "col-sm-2 control-label" do %>
          <%= t 'activerecord.attributes.article.publish_time' %>
      <% end %>
      <div class="col-sm-9">
        <%= f.datetime_select :publish_time, :class => "form-control" %>
      </div>
    </div>
    <div class="form-group">
      <%= f.label :cat_id, :class => "col-sm-2 control-label" do %>
          <%= t 'activerecord.attributes.article.cat_id' %> <span class="symbol required"></span>
      <% end %>
      <div class="col-sm-9">
        <%= select_tag "article[cat_id]", nested_options(@categories, selected: @article.cat), class: :nested_options %>
      </div>
    </div>

    <div class="form-group">
      <label for="tags" class="col-sm-2 control-label">标签</label>

      <div class="col-sm-10">
        <input name="tags" id="tags" data-role='tagsinput' value="<%= @article.tag_list %>" class="form-control"/>
      </div>
    </div>

    <div class="form-group">
      <%= f.label :is_hot, :class => "col-sm-2 control-label" do %>
          <%= t 'activerecord.attributes.article.is_hot' %>
      <% end %>
      <div class="col-sm-9">
        <%= f.select(:is_hot, options_for_select([['不置顶', 0], ['置顶', 1]]), :class => "form-control") %>
      </div>
    </div>
    <div class="form-group">
      <%= f.label :is_published, :class => "col-sm-2 control-label" do %>
          <%= t 'activerecord.attributes.article.is_published' %>
      <% end %>
      <div class="col-sm-9">
        <%= f.select(:is_published, options_for_select([['发表', 1], ['不发表', 0]]), :class => "form-control") %>
      </div>
    </div>
    <div class="form-group">
      <%= f.label :is_recommend, :class => "col-sm-2 control-label" do %>
          <%= t 'activerecord.attributes.article.is_recommend' %>
      <% end %>
      <div class="col-sm-9">
        <%= f.select(:is_recommend, options_for_select([['不推荐', 0], ['推荐', 1]]), :class => "form-control") %>
      </div>
    </div>
    <div class="form-group">
      <%= f.label :can_comment, :class => "col-sm-2 control-label" do %>
          <%= t 'activerecord.attributes.article.can_comment' %>
      <% end %>
      <div class="col-sm-9">
        <%= f.select(:can_comment, options_for_select([['允许', 1], ['不允许', 0]]), :class => "form-control") %>
      </div>
    </div>
    <div class="form-group">
      <%= f.label :start_time, :class => "col-sm-2 control-label" do %>
          <%= t 'activerecord.attributes.article.start_time' %>
      <% end %>
      <div class="col-sm-9">
        <%= f.datetime_select :start_time, :class => "form-control" %>
      </div>
    </div>
    <div class="form-group">
      <%= f.label :end_time, :class => "col-sm-2 control-label" do %>
          <%= t 'activerecord.attributes.article.end_time' %>
      <% end %>
      <div class="col-sm-9">
        <%= f.datetime_select :end_time, :class => "form-control" %>
      </div>
    </div>
    <div class="form-group">
      <%= f.label :address, :class => "col-sm-2 control-label" do %>
          <%= t 'activerecord.attributes.article.address' %>
      <% end %>
      <div class="col-sm-9">
        <%= f.text_area :address, :class => "form-control" %>
      </div>
    </div>
    <div class="form-group">
      <%= f.label :speaker, :class => "col-sm-2 control-label" do %>
          <%= t 'activerecord.attributes.article.speaker' %>
      <% end %>
      <div class="col-sm-9">
        <%= f.text_field :speaker, :class => "form-control" %>
      </div>
    </div>
    <div class="form-group">
      <%= f.label :emcee, :class => "col-sm-2 control-label" do %>
          <%= t 'activerecord.attributes.article.emcee' %>
      <% end %>
      <div class="col-sm-9">
        <%= f.text_field :emcee, :class => "form-control" %>
      </div>
    </div>
    <div class="form-group">
      <%= f.label :organizer, :class => "col-sm-2 control-label" do %>
          <%= t 'activerecord.attributes.article.organizer' %>
      <% end %>
      <div class="col-sm-9">
        <%= f.text_field :organizer, :class => "form-control" %>
      </div>
    </div>
    <div class="form-group">
      <%= f.label :sponsor, :class => "col-sm-2 control-label" do %>
          <%= t 'activerecord.attributes.article.sponsor' %>
      <% end %>
      <div class="col-sm-9">
        <%= f.text_field :sponsor, :class => "form-control" %>
      </div>
    </div>
    <div class="form-group">
      <%= f.label :source, :class => "col-sm-2 control-label" do %>
          <%= t 'activerecord.attributes.article.source' %>
      <% end %>
      <div class="col-sm-9">
        <%= f.text_field :source, :class => "form-control" %>
      </div>
    </div>
    <div class="form-group">
      <label class="col-sm-2 control-label" for="submit"></label>

      <div class="col-sm-9">
        <%= f.submit("提交", class: "btn btn-yellow btn-block") %>
      </div>
    </div>
<% end %>
