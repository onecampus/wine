<%= form_for(@product, :html => {:class => "form-horizontal"}) do |f| %>
  <% if @product.errors.any? %>
    <div id="error_explanation" class="form-group">
      <div class="col-sm-2"></div>
      <div class="col-sm-9">
        <h2>保存时发生了<%= pluralize(@product.errors.count, "error") %></h2>
        <ul>
          <% @product.errors.full_messages.each do |message| %>
            <li><%= message %></li>
          <% end %>
        </ul>
      </div>
    </div>
  <% end %>
  <div class="form-group">
    <%= f.label :name, :class => "col-sm-2 control-label" do %>
      <%= t 'activerecord.attributes.product.name' %>
      <span class="symbol required"></span>
    <% end %>
    <div class="col-sm-9">
      <%= f.text_field :name, :class => "form-control" %>
    </div>
  </div>
  <div class="form-group">
    <%= f.label :price, :class => "col-sm-2 control-label" do %>
      <%= t 'activerecord.attributes.product.price' %>
      <span class="symbol required"></span>
    <% end %>
    <div class="col-sm-9">
      <%= f.number_field :price, in: 0.01..20000000.01, step: 0.01, :class => "form-control" %>
    </div>
  </div>
  <div class="form-group">
    <%= f.label :fright, :class => "col-sm-2 control-label" do %>
    <%= t 'activerecord.attributes.product.fright' %>
    <span class="symbol required"></span>
    <% end %>
    <div class="col-sm-9">
      <%= f.text_field :fright, :class => "form-control" %>
    </div>
  </div>
  <div class="form-group">
    <%= f.label :img, :class => "col-sm-2 control-label" do %>
      <%= t 'activerecord.attributes.product.img' %>
      <span class="symbol required"></span>
    <% end %>
    <div class="col-sm-9">
      <%= image_tag(@product.img_url(:thumb)) if @product.img? %>
      <%= f.file_field :img %>
      <p class="help-block">请上传特色图片</p>
    </div>
  </div>
  <div class="form-group">
    <%= f.label :cat_id, :class => "col-sm-2 control-label" do %>
      <%= t 'activerecord.attributes.product.cat_id' %>
      <span class="symbol required"></span>
    <% end %>
    <div class="col-sm-9">
      <%= select_tag "product[cat_id]", nested_options(@categories, selected: @product.cat), class: :nested_options %>
    </div>
  </div>
  <div class="form-group">
    <%= f.label :description, :class => "col-sm-2 control-label" do %>
      <%= t 'activerecord.attributes.product.description' %>
      <span class="symbol required"></span>
    <% end %>
    <div class="col-sm-9">
      <%= f.text_area :description, class: 'ue-container', id: 'ue-container' %>
    </div>
  </div>
  <div class="form-group">
    <%= f.label :brand, :class => "col-sm-2 control-label" do %>
      <%= t 'activerecord.attributes.product.brand' %>
    <% end %>
    <div class="col-sm-9">
      <%= f.text_field :brand, :class => "form-control" %>
    </div>
  </div>
  <div class="form-group">
    <%= f.label :expiration_date, :class => "col-sm-2 control-label" do %>
      <%= t 'activerecord.attributes.product.expiration_date' %>
    <% end %>
    <div class="col-sm-9">
      <%= f.datetime_select :expiration_date, :class => "form-control" %>
    </div>
  </div>
  <div class="form-group">
    <%= f.label :country, :class => "col-sm-2 control-label" do %>
      <%= t 'activerecord.attributes.product.country' %>
    <% end %>
    <div class="col-sm-9">
      <%= f.text_field :country, :class => "form-control" %>
    </div>
  </div>
  <div class="form-group">
    <%= f.label :package_type, :class => "col-sm-2 control-label" do %>
      <%= t 'activerecord.attributes.product.package_type' %>
    <% end %>
    <div class="col-sm-9">
      <%= f.text_field :package_type, :class => "form-control" %>
    </div>
  </div>
  <div class="form-group">
    <%= f.label :product_model, :class => "col-sm-2 control-label" do %>
      <%= t 'activerecord.attributes.product.product_model' %>
    <% end %>
    <div class="col-sm-9">
      <%= f.text_field :product_model, :class => "form-control" %>
    </div>
  </div>
  <div class="form-group">
    <%= f.label :status, :class => "col-sm-2 control-label" do %>
      <%= t 'activerecord.attributes.product.status' %>
      <span class="symbol required"></span>
    <% end %>
    <div class="col-sm-9">
      <%= f.select(:status, options_for_select([['上架', 1], ['下架', 0]], @product.status)) %>
    </div>
  </div>
  <div class="form-group">
    <%= f.label :profit, :class => "col-sm-2 control-label" do %>
      <%= t 'activerecord.attributes.product.profit' %>
      <span class="symbol required"></span>
    <% end %>
    <div class="col-sm-9">
      <%= f.text_field :profit, :class => "form-control" %>
    </div>
  </div>
  <div class="form-group">
    <%= f.label :vip_price, :class => "col-sm-2 control-label" do %>
      <%= t 'activerecord.attributes.product.vip_price' %>
    <% end %>
    <div class="col-sm-9">
      <%= f.text_field :vip_price, :class => "form-control" %>
    </div>
  </div>
  <div class="form-group">
    <%= f.label :is_new, :class => "col-sm-2 control-label" do %>
      <%= t 'activerecord.attributes.product.is_new' %>
    <% end %>
    <div class="col-sm-9">
      <%= f.select(:is_new, options_for_select([['否', 0], ['是', 1]], @product.is_new)) %>
    </div>
  </div>
  <div class="form-group">
    <%= f.label :is_boutique, :class => "col-sm-2 control-label" do %>
      <%= t 'activerecord.attributes.product.is_boutique' %>
    <% end %>
    <div class="col-sm-9">
      <%= f.select(:is_boutique, options_for_select([['否', 0], ['是', 1]], @product.is_boutique)) %>
    </div>
  </div>
  <div class="form-group">
    <%= f.label :unit, :class => "col-sm-2 control-label" do %>
      <%= t 'activerecord.attributes.product.unit' %>
      <span class="symbol required"></span>
    <% end %>
    <div class="col-sm-9">
      <%= f.text_field :unit, :class => "form-control" %>
    </div>
  </div>
  <div class="form-group">
    <%= f.label :is_commission, :class => "col-sm-2 control-label" do %>
    <%= t 'activerecord.attributes.product.is_commission' %>
    <span class="symbol required"></span>
    <% end %>
    <div class="col-sm-9">
      <%= f.select(:is_commission, options_for_select([['参与提成', 1], ['不参与提成', 0]], @product.is_commission)) %>
    </div>
  </div>
  <div class="form-group">
    <label class="col-sm-2 control-label" for="submit"></label>
    <div class="col-sm-9">
      <%= f.submit("提交", class: "btn btn-yellow btn-block") %>
    </div>
  </div>
<% end %>
<script src="/backend/plugins/ueditor143/ueditor.config.js"></script>
<script src="/backend/plugins/ueditor143/ueditor.all.js"></script>
<script src="/backend/plugins/ueditor143/lang/zh-cn/zh-cn.js"></script>
<script>
  var ue = UE.getEditor('ue-container', {
    initialFrameWidth : '100%',
    initialFrameHeight: 600
  });
</script>
